---
title: '[WIL] μ¤νλ¥΄νƒ€μ½”λ”©ν΄λ½ μ›Ήκ°λ° μΆ…ν•©λ° 4μ£Όμ°¨'
subtitle: 'Flask ν”„λ μ„μ›ν¬λ¥Ό ν†µν•΄ APIλ¥Ό λ§λ“¤κ³  ν΄λΌμ΄μ–ΈνΈμ— μ—°κ²°ν•κΈ°'
date: 2022-05-30 00:00:00
category: 'WIL'
---

## λ©ν‘

1. Flask ν”„λ μ„μ›ν¬λ¥Ό ν™μ©ν•΄μ„ APIλ¥Ό λ§λ“¤ μ μλ‹¤.

<br/>

## **Flask - μ„λ²„λ§λ“¤κΈ°**

### Flask κΈ°λ³Έ μ‹¤ν–‰

- Flask ν”„λ μ„μ›ν¬: μ„λ²„λ¥Ό κµ¬λ™μ‹μΌμ£Όλ” νΈν• μ½”λ“ λ¨μ. μ„λ²„λ¥Ό κµ¬λ™ν•λ ¤λ©΄ ν•„μ”ν• λ³µμ΅ν• μΌλ“¤μ„ μ‰½κ² κ°€μ Έλ‹¤ μ“Έ μ μλ‹¤.
    <aside>
    π‘‰ ν”„λ μ„μ›ν¬λ¥Ό μ“°μ§€ μ•μΌλ©΄ νƒμ–‘μ΄λ¥Ό λΉ»μ•„μ„ κ³ μ¶”μ¥μ„ λ§λ“λ” κ²©!
    ν”„λ μ„μ›ν¬λ” 3λ¶„ μ”λ¦¬/μ†μ¤ μ„ΈνΈλΌκ³  μƒκ°ν•λ©΄ λλ‹¤!
    
    </aside>

- [app.py](http://app.py) νμΌμ„ λ§λ“¤μ–΄ μ•„λ μ½”λ“λ¥Ό λ¶™μ—¬λ„£μ–΄λ³Έλ‹¤.
    <aside>
    π‘‰ νμΌ μ΄λ¦„μ€ μ•„λ¬΄λ ‡κ²λ‚ ν•΄λ„ μƒκ΄€μ—†μ§€λ§, ν†µμƒμ μΌλ΅ flask μ„λ²„λ¥Ό λλ¦¬λ” νμΌμ€ app.pyλΌκ³  μ΄λ¦„ μ§“λ”!
    
    </aside>
    
    **flask μ‹μ‘ μ½”λ“**
    
    ```python
    from flask import Flask
    app = Flask(__name__)
    
    @app.route('/')
    def home():
       return 'This is Home!'
    
    if __name__ == '__main__':  
       app.run('0.0.0.0',port=5000,debug=True)
    ```

- μ¤λ¥Έμ½ ν΄λ¦­ β†’ '`Run app`'μ„ ν΄λ¦­ν•κ³ , ν„°λ―Έλ„μ— μ•„λμ™€ κ°™μ€ λ©”μ‹μ§€κ°€ λ¨λ©΄ μ‹¤ν–‰ μ„±κ³µ!
  ![Untitled](https://teamsparta.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F210e5f1c-5d62-4181-b79d-a39e9c17b664%2FUntitled.png?table=block&id=dfd29600-6c3b-44d8-b8b2-76cc38746c90&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=2000&userId=&cache=v2)
- μ΄μ  ν¬λ΅¬μ—μ„ [http://localhost:5000](http://localhost:5000)/ μΌλ΅ μ ‘μ†!
    <aside>
    π‘‰ ν™”λ©΄μ— `Hello World!` κ°€ λ³΄μ΄λ©΄ μ„±κ³µν• κ²ƒ! π‘
    
    </aside>

- μΆ…λ£ν•λ” λ°©λ²•
    <aside>
    π‘‰ ν„°λ―Έλ„ μ°½μ„ ν΄λ¦­ν•μ‹κ³ , ctrl + c μ„ λ„λ¥΄μ‹λ©΄ μ„λ²„λ¥Ό μΆ…λ£ν•  μ μλ‹¤.
    
    </aside>

### URL λ‚λ λ³΄κΈ°

- @app.route('/) λ¶€λ¶„μ„ μμ •ν•΄μ„ URLμ„ λ‚λ μ μλ‹¤!
    <aside>
    π‘‰ url λ³„λ΅ ν•¨μλ…μ΄ κ°™κ±°λ‚, route('/')λ‚΄μ μ£Όμ†κ°€ κ°™μΌλ©΄ μ•λλ‹¤.
    
    </aside>
    
    ```python
    from flask import Flask
    app = Flask(__name__)
    
    @app.route('/')
    def home():
       return 'This is Home!'
    
    @app.route('/mypage')
    def mypage():  
       return 'This is My Page!'
    
    if __name__ == '__main__':  
       app.run('0.0.0.0',port=5000,debug=True)
    ```

<br/>

## **Flask - λ³Έκ²© API λ§λ“¤κΈ°**

### 1) λ“¤μ–΄κ°€κΈ° μ „μ—: GET, POST μ”μ²­νƒ€μ… - λ¦¬λ§μΈλ“

<aside>
π‘‰ λ¦¬λ§μΈλ“! 
μ€ν–‰μ μ°½κµ¬κ°€ APIμ™€ κ°™λ‹¤! ****κ°™μ€ μκΈ μ°½κµ¬μ—μ„λ„ κ°μΈ κ³ κ°μ΄λƒ κΈ°μ—… κ³ κ°μ΄λƒμ— λ”°λΌ μ²λ¦¬ν•λ” κ²ƒμ΄ λ‹¤λ¥Έ κ²ƒμ²λΌ,

**ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ ν•  λ•μ—λ„, "λ°©μ‹"μ΄ μ΅΄μ¬ν•λ‹¤.**
ν΄λΌμ΄μ–ΈνΈλ” μ”μ²­ν•  λ• HTTP request method(μ”μ²­ λ©”μ†λ“)λ¥Ό ν†µν•΄, μ–΄λ–¤ μ”μ²­ μΆ…λ¥μΈμ§€ μ‘λ‹µν•λ” μ„λ²„ μ½μ— μ •λ³΄λ¥Ό μ•λ ¤μ£Όλ” κ²ƒμ΄λ‹¤.

</aside>

<aside>
π‘‰ GET, POST λ°©μ‹

- GET β†’ ν†µμƒμ μΌλ΅! λ°μ΄ν„° μ΅°ν(Read)λ¥Ό μ”μ²­ν•  λ•  
  μ) μν™” λ©λ΅ μ΅°ν  
  β†’ **λ°μ΄ν„° μ „λ‹¬** : URL λ’¤μ— λ¬Όμν‘λ¥Ό λ¶™μ—¬ key=valueλ΅ μ „λ‹¬  
  β†’ μ: google.com?q=λ¶κ·Ήκ³°
- POST β†’ ν†µμƒμ μΌλ΅! λ°μ΄ν„° μƒμ„±(Create), λ³€κ²½(Update), μ‚­μ (Delete) μ”μ²­ ν•  λ•  
  μ) νμ›κ°€μ…, νμ›νƒν‡΄, λΉ„λ°€λ²νΈ μμ •  
  β†’ **λ°μ΄ν„° μ „λ‹¬ :** λ°”λ΅ λ³΄μ΄μ§€ μ•λ” HTML bodyμ— key:value ν•νƒλ΅ μ „λ‹¬

</aside>

### 2) GET, POST μ”μ²­μ—μ„ ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°λ¥Ό λ°›λ” λ°©λ²•

- μλ¥Ό λ“¤μ–΄, ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„μ— title_giveλ€ ν‚¤ κ°’μΌλ΅ λ°μ΄ν„°λ¥Ό λ“¤κ³ μ™”λ‹¤κ³  μƒκ°ν•λ‹¤. (μ£Όλ―Όλ“±λ΅λ²νΈ λΌλ” ν‚¤ κ°’μΌλ΅ 900120- .. μ„ κ°€μ Έμ¨ κ²ƒκ³Ό κ°™μ€ μλ―Έ)
  **Jquery μ„ν¬νΈ**

  ```csharp
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  ```

  **GET μ”μ²­ APIμ½”λ“**

  ```python
  @app.route('/test', methods=['GET'])
  def test_get():
     title_receive = request.args.get('title_give')
     print(title_receive)
     return jsonify({'result':'success', 'msg': 'μ΄ μ”μ²­μ€ GET!'})
  ```

  **GET μ”μ²­ ν™•μΈ Ajaxμ½”λ“**

  ```jsx
  $.ajax({
    type: 'GET',
    url: '/test?title_give=λ΄„λ‚ μ€κ°„λ‹¤',
    data: {},
    success: function (response) {
      console.log(response);
    },
  });
  ```

  **POST μ”μ²­ APIμ½”λ“**

  ```python
  @app.route('/test', methods=['POST'])
  def test_post():
     title_receive = request.form['title_give']
     print(title_receive)
     return jsonify({'result':'success', 'msg': 'μ΄ μ”μ²­μ€ POST!'})
  ```

  **POST μ”μ²­ ν™•μΈ Ajaxμ½”λ“**

  ```jsx
  $.ajax({
    type: 'POST',
    url: '/test',
    data: { title_give: 'λ΄„λ‚ μ€κ°„λ‹¤' },
    success: function (response) {
      console.log(response);
    },
  });
  ```

<br/>

## Review

Flask ν”„λ μ„μ›ν¬λ¥Ό ν™μ©ν•΄μ„ APIλ¥Ό λ§λ“¤κ³  ν΄λΌμ΄μ–ΈνΈμ— μ—°κ²°ν•μ—¬μ„ POSTμ™€ GET μ”μ²­μ„ ν†µν•΄ λ°μ΄ν„°λ¥Ό λ³΄μ—¬μ£Όκ³  μ „λ‹¬ν•λ” μ‹¤μµμ„ μ§„ν–‰ν•΄λ³΄μ•λ‹¤. λ­”κ°€ μ λ€λ΅ λ μ½”λ”©μ„ ν•λ” λλ‚μ΄ λ“¤μ–΄μ„ μ¬λ°κ² κ°„λ‹¨ν• ν”„λ΅μ νΈλ¥Ό μ§„ν–‰ν•μ€λ‹¤.
