---
title: '[WIL] ìŠ¤íŒŒë¥´íƒ€ì½”ë”©í´ëŸ½ ì›¹ê°œë°œ ì¢…í•©ë°˜ 3ì£¼ì°¨'
subtitle: 'íŒŒì´ì¬ ê¸°ì´ˆ ë¬¸ë²•, í¬ë¡¤ë§, pymongoë¥¼ í†µí•´ mongoDB ì œì–´'
date: 2022-05-23 00:00:00
category: 'WIL'
---

## ëª©í‘œ

1. íŒŒì´ì¬ ê¸°ì´ˆ ë¬¸ë²•ì„ ì•ˆë‹¤.
2. ì›í•˜ëŠ” í˜ì´ì§€ë¥¼ í¬ë¡¤ë§ í•  ìˆ˜ ìˆë‹¤.
3. pymongoë¥¼ í†µí•´ mongoDBë¥¼ ì œì–´í•  ìˆ˜ ìˆë‹¤.

<br/>

## **íŒŒì´ì¬**

### íŒŒì´ì¬ ê¸°ì´ˆ ë¬¸ë²•

<details>
<summary>ë³€ìˆ˜ & ê¸°ë³¸ì—°ì‚°</summary>
<div markdown="1">

```python
a = 3      # 3ì„ aì— ë„£ëŠ”ë‹¤
b = a      # aë¥¼ bì— ë„£ëŠ”ë‹¤
a = a + 1  # a+1ì„ ë‹¤ì‹œ aì— ë„£ëŠ”ë‹¤

num1 = a*b # a*bì˜ ê°’ì„ num1ì´ë¼ëŠ” ë³€ìˆ˜ì— ë„£ëŠ”ë‹¤
num2 = 99 # 99ì˜ ê°’ì„ num2ì´ë¼ëŠ” ë³€ìˆ˜ì— ë„£ëŠ”ë‹¤

# ë³€ìˆ˜ì˜ ì´ë¦„ì€ ë§ˆìŒëŒ€ë¡œ ì§€ì„ ìˆ˜ ìˆìŒ!
# ì§„ì§œ "ë§ˆìŒëŒ€ë¡œ" ì§“ëŠ” ê²Œ ì¢‹ì„ê¹Œ? var1, var2 ì´ë ‡ê²Œ?
```

</div>
</details>

<details>
<summary>ìë£Œí˜•</summary>
<div markdown="1">

- ìˆ«ì, ë¬¸ìí˜•

  ```python
  name = 'bob' # ë³€ìˆ˜ì—ëŠ” ë¬¸ìì—´ì´ ë“¤ì–´ê°ˆ ìˆ˜ë„ ìˆê³ ,
  num = 12 # ìˆ«ìê°€ ë“¤ì–´ê°ˆ ìˆ˜ë„ ìˆê³ ,

  is_number = True # True ë˜ëŠ” False -> "Boolean"í˜•ì´ ë“¤ì–´ê°ˆ ìˆ˜ë„ ìˆë‹¤.

  #########
  # ê·¸ë¦¬ê³  List, Dictionary ë„ ë“¤ì–´ê°ˆ ìˆ˜ë„ ìˆë‹¤.
  ```

- ë¦¬ìŠ¤íŠ¸ í˜• (Javascriptì˜ ë°°ì—´í˜•ê³¼ ë™ì¼)

  ```python
  a_list = []
  a_list.append(1)     # ë¦¬ìŠ¤íŠ¸ì— ê°’ì„ ë„£ëŠ”ë‹¤
  a_list.append([2,3]) # ë¦¬ìŠ¤íŠ¸ì— [2,3]ì´ë¼ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ë‹¤ì‹œ ë„£ëŠ”ë‹¤

  # a_listì˜ ê°’ì€? [1,[2,3]]
  # a_list[0]ì˜ ê°’ì€? 1
  # a_list[1]ì˜ ê°’ì€? [2,3]
  # a_list[1][0]ì˜ ê°’ì€? 2
  ```

- Dictionary í˜• (Javascriptì˜ dictionaryí˜•ê³¼ ë™ì¼)

  ```python
  a_dict = {}
  a_dict = {'name':'bob','age':21}
  a_dict['height'] = 178

  # a_dictì˜ ê°’ì€? {'name':'bob','age':21, 'height':178}
  # a_dict['name']ì˜ ê°’ì€? 'bob'
  # a_dict['age']ì˜ ê°’ì€? 21
  # a_dict['height']ì˜ ê°’ì€? 178
  ```

- Dictionary í˜•ê³¼ Listí˜•ì˜ ì¡°í•©

  ```python
  people = [{'name':'bob','age':20},{'name':'carry','age':38}]

  # people[0]['name']ì˜ ê°’ì€? 'bob'
  # people[1]['name']ì˜ ê°’ì€? 'carry'

  person = {'name':'john','age':7}
  people.append(person)

  # peopleì˜ ê°’ì€? [{'name':'bob','age':20},{'name':'carry','age':38},{'name':'john','age':7}]
  # people[2]['name']ì˜ ê°’ì€? 'john'
  ```

</div>
</details>

<details>
<summary>í•¨ìˆ˜</summary>
<div markdown="1">

- í•¨ìˆ˜ì˜ ì •ì˜ - ì´ë¦„ì€ ë§ˆìŒëŒ€ë¡œ ì •í•  ìˆ˜ ìˆìŒ!

  ```python
  # ìˆ˜í•™ë¬¸ì œì—ì„œ
  f(x) = 2*x+3
  y = f(2)
  yì˜ ê°’ì€? 7

  # ì°¸ê³ : ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ”
  function f(x) {
  	return 2*x+3
  }

  # íŒŒì´ì¬ì—ì„œ
  def f(x):
  	return 2*x+3

  y = f(2)
  yì˜ ê°’ì€? 7
  ```

- í•¨ìˆ˜ì˜ ì‘ìš©

  ```python
  def sum_all(a,b,c):
  	return a+b+c

  def mul(a,b):
  	return a*b

  result = sum_all(1,2,3) + mul(10,10)

  # resultë¼ëŠ” ë³€ìˆ˜ì˜ ê°’ì€?
  ```

</div>
</details>

<details>
<summary>ì¡°ê±´ë¬¸</summary>
<div markdown="1">

- if / else ë¡œ êµ¬ì„±!

  ```python
  def oddeven(num):  # oddevenì´ë¼ëŠ” ì´ë¦„ì˜ í•¨ìˆ˜ë¥¼ ì •ì˜í•œë‹¤. numì„ ë³€ìˆ˜ë¡œ ë°›ëŠ”ë‹¤.
  	if num % 2 == 0: # numì„ 2ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ê°€ 0ì´ë©´
  		 return True   # True (ì°¸)ì„ ë°˜í™˜í•œë‹¤.
  	else:            # ì•„ë‹ˆë©´,
  		 return False  # False (ê±°ì§“)ì„ ë°˜í™˜í•œë‹¤.

  result = oddeven(20)
  # resultì˜ ê°’ì€ ë¬´ì—‡ì¼ê¹Œìš”?
  ```

  ```python
  def is_adult(age):
  	if age > 20:
  		print('ì„±ì¸ì…ë‹ˆë‹¤')    # ì¡°ê±´ì´ ì°¸ì´ë©´ ì„±ì¸ì…ë‹ˆë‹¤ë¥¼ ì¶œë ¥
  	else:
  		print('ì²­ì†Œë…„ì´ì—ìš”')  # ì¡°ê±´ì´ ê±°ì§“ì´ë©´ ì²­ì†Œë…„ì´ì—ìš”ë¥¼ ì¶œë ¥

  is_adult(30)
  ```

</div>
</details>

<details>
<summary>ë°˜ë³µë¬¸</summary>
<div markdown="1">

ğŸ‘‰ íŒŒì´ì¬ì—ì„œì˜ ë°˜ë³µë¬¸ì€, ë¦¬ìŠ¤íŠ¸ì˜ ìš”ì†Œë“¤ì„ í•˜ë‚˜ì”© êº¼ë‚´ì“°ëŠ” í˜•íƒœì´ë‹¤.

- ë¬´ì¡°ê±´ ë¦¬ìŠ¤íŠ¸ì™€ í•¨ê»˜ ì“°ì¸ë‹¤!

  ```python
  fruits = ['ì‚¬ê³¼','ë°°','ê°','ê·¤']

  for fruit in fruits:
  	print(fruit)

  # ì‚¬ê³¼, ë°°, ê°, ê·¤ í•˜ë‚˜ì”© êº¼ë‚´ì–´ ì°í™ë‹ˆë‹¤.
  ```

- ê³¼ì¼ ê°¯ìˆ˜ ì„¸ê¸° í•¨ìˆ˜

  ```python
  fruits = ['ì‚¬ê³¼','ë°°','ë°°','ê°','ìˆ˜ë°•','ê·¤','ë”¸ê¸°','ì‚¬ê³¼','ë°°','ìˆ˜ë°•']

  count = 0
  for fruit in fruits:
  	if fruit == 'ì‚¬ê³¼':
  		count += 1

  print(count)

  # ì‚¬ê³¼ì˜ ê°¯ìˆ˜ë¥¼ ì„¸ì–´ ë³´ì—¬ì¤€ë‹¤.
  ```

  ```python
  def count_fruits(target):
  	count = 0
  	for fruit in fruits:
  		if fruit == target:
  			count += 1
  	return count

  subak_count = count_fruits('ìˆ˜ë°•')
  print(subak_count) #ìˆ˜ë°•ì˜ ê°¯ìˆ˜

  gam_count = count_fruits('ê°')
  print(gam_count) #ê°ì˜ ê°¯ìˆ˜
  ```

- ë‹¤ë¥¸ ì˜ˆì œ

  ```python
  people = [{'name': 'bob', 'age': 20},
            {'name': 'carry', 'age': 38},
            {'name': 'john', 'age': 7},
            {'name': 'smith', 'age': 17},
            {'name': 'ben', 'age': 27}]

  # ëª¨ë“  ì‚¬ëŒì˜ ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ì¶œë ¥í•´ë³´ê¸°.
  for person in people:
      print(person['name'], person['age'])

  # ì´ë²ˆì—”, ë°˜ë³µë¬¸ê³¼ ì¡°ê±´ë¬¸ì„ ì‘ìš©í•œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ë³´ê¸°.
  # ì´ë¦„ì„ ë°›ìœ¼ë©´, ageë¥¼ ë¦¬í„´í•´ì£¼ëŠ” í•¨ìˆ˜
  def get_age(myname):
      for person in people:
          if person['name'] == myname:
              return person['age']
      return 'í•´ë‹¹í•˜ëŠ” ì´ë¦„ì´ ì—†ìŠµë‹ˆë‹¤'

  print(get_age('bob'))
  print(get_age('kay'))
  ```

</div>
</details>

<br/>

## ì›¹ ìŠ¤í¬ë¡¤ë§

### ì›¹ìŠ¤í¬ë˜í•‘ í•´ë³´ê¸° (ì˜í™” ì œëª©)

- íŒ¨í‚¤ì§€ ì¶”ê°€ ì„¤ì¹˜í•˜ê¸°(beautifulsoup4)
  ```python
  bs4
  ```
- í¬ë¡¤ë§ ê¸°ë³¸ ì„¸íŒ…

  ```python
  import requests
  from bs4 import BeautifulSoup

  headers = {'User-Agent' : 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36'}
  data = requests.get('https://movie.naver.com/movie/sdb/rank/rmovie.naver?sel=pnt&date=20210829',headers=headers)

  soup = BeautifulSoup(data.text, 'html.parser')
  ```

  ```python
  import requests
  from bs4 import BeautifulSoup

  # íƒ€ê²Ÿ URLì„ ì½ì–´ì„œ HTMLë¥¼ ë°›ì•„ì˜¤ê³ ,
  headers = {'User-Agent' : 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36'}
  data = requests.get('https://movie.naver.com/movie/sdb/rank/rmovie.naver?sel=pnt&date=20210829',headers=headers)

  # HTMLì„ BeautifulSoupì´ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•´ ê²€ìƒ‰í•˜ê¸° ìš©ì´í•œ ìƒíƒœë¡œ ë§Œë“¦
  # soupì´ë¼ëŠ” ë³€ìˆ˜ì— "íŒŒì‹± ìš©ì´í•´ì§„ html"ì´ ë‹´ê¸´ ìƒíƒœê°€ ë¨
  # ì´ì œ ì½”ë”©ì„ í†µí•´ í•„ìš”í•œ ë¶€ë¶„ì„ ì¶”ì¶œí•˜ë©´ ëœë‹¤.
  soup = BeautifulSoup(data.text, 'html.parser')
  ```

- select / select_oneì˜ ì‚¬ìš©ë²•ì„ ìµí˜€ë³´ê¸°.
    <aside>
    ğŸ‘‰ ì˜í™” ì œëª©ì„ ê°€ì ¸ì™€ë³´ê¸°!
    
    </aside>
    
    <aside>
    ğŸ‘‰ íƒœê·¸ ì•ˆì˜ í…ìŠ¤íŠ¸ë¥¼ ì°ê³  ì‹¶ì„ ë• â†’ íƒœê·¸.text  
        íƒœê·¸ ì•ˆì˜ ì†ì„±ì„ ì°ê³  ì‹¶ì„ ë• â†’ íƒœê·¸['ì†ì„±']
    
    </aside>
    
    ```python
    import requests
    from bs4 import BeautifulSoup
    
    # URLì„ ì½ì–´ì„œ HTMLë¥¼ ë°›ì•„ì˜¤ê³ ,
    headers = {'User-Agent' : 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36'}
    data = requests.get('https://movie.naver.com/movie/sdb/rank/rmovie.naver?sel=pnt&date=20210829',headers=headers)
    
    # HTMLì„ BeautifulSoupì´ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•´ ê²€ìƒ‰í•˜ê¸° ìš©ì´í•œ ìƒíƒœë¡œ ë§Œë“¦
    soup = BeautifulSoup(data.text, 'html.parser')
    
    # selectë¥¼ ì´ìš©í•´ì„œ, trë“¤ì„ ë¶ˆëŸ¬ì˜¤ê¸°
    movies = soup.select('#old_content > table > tbody > tr')
    
    # movies (trë“¤) ì˜ ë°˜ë³µë¬¸ì„ ëŒë¦¬ê¸°
    for movie in movies:
        # movie ì•ˆì— a ê°€ ìˆìœ¼ë©´,
        a_tag = movie.select_one('td.title > div > a')
        if a_tag is not None:
            # aì˜ textë¥¼ ì°ì–´ë³¸ë‹¤.
            print (a_tag.text)
    ```

- beautifulsoup ë‚´ selectì— ë¯¸ë¦¬ ì •ì˜ëœ ë‹¤ë¥¸ ë°©ë²•

  ```python
  # ì„ íƒìë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²• (copy selector)
  soup.select('íƒœê·¸ëª…')
  soup.select('.í´ë˜ìŠ¤ëª…')
  soup.select('#ì•„ì´ë””ëª…')

  soup.select('ìƒìœ„íƒœê·¸ëª… > í•˜ìœ„íƒœê·¸ëª… > í•˜ìœ„íƒœê·¸ëª…')
  soup.select('ìƒìœ„íƒœê·¸ëª….í´ë˜ìŠ¤ëª… > í•˜ìœ„íƒœê·¸ëª….í´ë˜ìŠ¤ëª…')

  # íƒœê·¸ì™€ ì†ì„±ê°’ìœ¼ë¡œ ì°¾ëŠ” ë°©ë²•
  soup.select('íƒœê·¸ëª…[ì†ì„±="ê°’"]')

  # í•œ ê°œë§Œ ê°€ì ¸ì˜¤ê³  ì‹¶ì€ ê²½ìš°
  soup.select_one('ìœ„ì™€ ë™ì¼')
  ```

- í•­ìƒ ì •í™•í•˜ì§€ëŠ” ì•Šìœ¼ë‚˜, í¬ë¡¬ ê°œë°œìë„êµ¬ë¥¼ ì°¸ê³ í•  ìˆ˜ë„ ìˆë‹¤.
  1. ì›í•˜ëŠ” ë¶€ë¶„ì—ì„œ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­ â†’ ê²€ì‚¬
  2. ì›í•˜ëŠ” íƒœê·¸ì—ì„œ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­
  3. Copy â†’ Copy selectorë¡œ ì„ íƒìë¥¼ ë³µì‚¬í•  ìˆ˜ ìˆìŒ
     ![](https://teamsparta.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F6a40280b-252d-4655-9540-b76bfed20292%2FUntitled.png?table=block&id=46697e28-6788-4588-a390-e84b8c1eb1db&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1670&userId=&cache=v2)

<br/>

## **DBê°œê´„**

### DBì˜ ë‘ ê°€ì§€ ì¢…ë¥˜

<aside>
ğŸ‘‰ Databaseì—ëŠ”, í¬ê²Œ ë‘ ê°€ì§€ ì¢…ë¥˜ê°€ ìˆë‹¤.

</aside>

![](https://teamsparta.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff78826c3-3d3d-4789-98bf-dd85cb229fad%2FUntitled.png?table=block&id=2a483d31-3d11-441b-9158-076e77418b2b&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=770&userId=&cache=v2)

<aside>
ğŸ‘‰ RDBMS(SQL)
í–‰/ì—´ì˜ ìƒê¹€ìƒˆê°€ ì •í•´ì§„ ì—‘ì…€ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê²ƒê³¼ ìœ ì‚¬í•©ë‹ˆë‹¤. ë°ì´í„° 50ë§Œ ê°œê°€ ì ì¬ëœ ìƒíƒœì—ì„œ, ê°‘ìê¸° ì¤‘ê°„ì— ì—´ì„ í•˜ë‚˜ ë”í•˜ê¸°ëŠ” ì–´ë ¤ìš¸ ê²ƒì´ë‹¤. ê·¸ëŸ¬ë‚˜, ì •í˜•í™”ë˜ì–´ ìˆëŠ” ë§Œí¼, ë°ì´í„°ì˜ ì¼ê´€ì„±ì´ë‚˜ / ë¶„ì„ì— ìš©ì´í•  ìˆ˜ ìˆë‹¤.  
ex) MS-SQL, My-SQL ë“±

</aside>

<aside>
ğŸ‘‰ No-SQL
ë”•ì…”ë„ˆë¦¬ í˜•íƒœë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•´ë‘ëŠ” DBì´ë‹¤. ê³ ë¡œ ë°ì´í„° í•˜ë‚˜ í•˜ë‚˜ ë§ˆë‹¤ ê°™ì€ ê°’ë“¤ì„ ê°€ì§ˆ í•„ìš”ê°€ ì—†ê²Œ ëœë‹¤. ììœ ë¡œìš´ í˜•íƒœì˜ ë°ì´í„° ì ì¬ì— ìœ ë¦¬í•œ ëŒ€ì‹ , ì¼ê´€ì„±ì´ ë¶€ì¡±í•  ìˆ˜ ìˆë‹¤.  
ex) MongoDB

</aside>

<br/>

## **pymongoë¡œ DBì¡°ì‘í•˜ê¸°**

### pymongo ì‚¬ìš©ë²•

```python
# ì €ì¥ - ì˜ˆì‹œ
doc = {'name':'bobby','age':21}
db.users.insert_one(doc)

# í•œ ê°œ ì°¾ê¸° - ì˜ˆì‹œ
user = db.users.find_one({'name':'bobby'})

# ì—¬ëŸ¬ê°œ ì°¾ê¸° - ì˜ˆì‹œ ( _id ê°’ì€ ì œì™¸í•˜ê³  ì¶œë ¥)
all_users = list(db.users.find({},{'_id':False}))

# ë°”ê¾¸ê¸° - ì˜ˆì‹œ
db.users.update_one({'name':'bobby'},{'$set':{'age':19}})

# ì§€ìš°ê¸° - ì˜ˆì‹œ
db.users.delete_one({'name':'bobby'})
```

<br/>

## Review

ì›¹í¬ë¡¤ë§ê³¼ pymongoë¡œ mongoDBë¥¼ ì¡°ì‘í•˜ëŠ” ë°©ë²•ì„ ë°°ì› ë‹¤. í¬ë¡¤ë§ì„ í†µí•´ì„œ ì›¹ì‚¬ì´íŠ¸ì˜ ì •ë³´ë¥¼ ê°€ì§€ê³  ì˜¬ ìˆ˜ ìˆëŠ”ê²Œ ì‹ ê¸°í•˜ì˜€ê³  ì›¹ìŠ¤í¬ë˜í•‘ ê²°ê³¼ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³ , ì°¾ê³ , ë°”ê¾¸ê³ , ì§€ìš°ëŠ”ê±¸ ì‹¤ìŠµí•´ë³´ë©´ì„œ DBë¥¼ ì™œ ì“°ëŠ”ì§€, DB ê°œë…ì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆë‹¤.
